(this.webpackJsonpswitchclient=this.webpackJsonpswitchclient||[]).push([[0],{16:function(t,e,n){t.exports=n(29)},21:function(t,e,n){},22:function(t,e,n){},29:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(4),i=n.n(r),s=(n(21),n(1)),o=(n(22),n(10)),u=n(11),h=n(15),l=n(14),p=n(3),d=n(5),w=function(){return window.location.protocol+"//"+window.location.hostname+":8080/pattern/"},b=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var t=this;return c.a.createElement("div",{className:"Led"},c.a.createElement("label",null,this.props.label),c.a.createElement("input",{type:"checkbox",checked:this.props.switches[this.props.switchId],onChange:function(e){t.props.setSwitchStatus(t.props.switchId,e.target.checked,t.props.switches)}}))}}]),n}(c.a.Component),m=Object(p.b)((function(t,e){return Object(s.a)(Object(s.a)({},e),{},{switches:t.switchManagement.switchStatus})}),{setSwitchStatus:function(t,e,n){return function(a){var c={pattern:Object(s.a)(Object(s.a)({},n),{},Object(d.a)({},t,e))},r=JSON.stringify(c);fetch(w(),{method:"POST",mode:"cors",credentials:"same-origin",headers:new Headers({"Content-Type":"application/json"}),body:r}).then((function(t){return t.json()})).then((function(t){a({type:"SET_SWITCH_STATUS",payload:t})}))}}})(b);var f=Object(p.b)((function(t,e){return Object(s.a)(Object(s.a)({},e),{},{switches:t.switchManagement.switchStatus})}),{initSwitches:function(){return function(t){fetch(w(),{mode:"cors",credentials:"same-origin"}).then((function(t){return t.json()})).then((function(e){t({type:"INIT_SWITCHES",payload:e})}))}}})((function(t){t.initSwitches();var e=Object.keys(t.switches).sort((function(t,e){return parseInt(t.replace("s",""))-parseInt(e.replace("s",""))})).map((function(t){return c.a.createElement(m,{key:t,label:t,switchId:t})}));return c.a.createElement("div",{className:"App"},c.a.createElement("header",null,w()),c.a.createElement("div",{className:"App-header"},e))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var S=n(2),j={switchStatus:{}};function O(t){return Object(s.a)({},t)}var v=Object(S.c)({switchManagement:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"INIT_SWITCHES":var n=Object.keys(t.switchStatus).length>0?t.switchStatus:e.payload;return Object(s.a)(Object(s.a)({},t),{},{switchStatus:n});case"SET_SWITCH_STATUS":return Object(s.a)(Object(s.a)({},t),{},{switchStatus:O(e.payload)});default:return t}}}),y=n(13),g=Object(S.d)(v,Object(S.a)(y.a));i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(p.a,{store:g},c.a.createElement(f,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[16,1,2]]]);
//# sourceMappingURL=main.b18a25c1.chunk.js.map